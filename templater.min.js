(function(){var e=function(t){if(e.prototype.cache[t]){return e.prototype.cache[t]}var n=$("#"+t+"-template").tmpl();e.prototype.cache[t]=n;return n},t=function(e,t){var n=t.prop.split(".");var r=e;for(var i=0,s=n.length;i<s;i++){if(r.hasOwnProperty(n[i])){r=r[n[i]]}else{return""}}return typeof r==="undefined"||r===null?"":r.toString()},n=function(e,t){var n,r;for(n=0,r=e.length;n<r;n++){if(e[n].prop===t){return true}}return false};e.prototype.cache={};$.fn.extend({tmpl:function(){var e=this.html();if(typeof e==="undefined"){return function(){return $()}}var r=e.match(/{[\w\d.]+}/g),i=[],s,o,u,a=function(n){var r=e;for(s=0,o=i.length;s<o;s++){u=i[s];r=r.replace(u.regex,t(n,u),"g")}r=r.replace("\r","").replace("\n","");r=$.trim(r);return $(r)};if(r&&r.length>0){for(s=0,o=r.length;s<o;s++){u=r[s].replace("{","").replace("}","");if(!n(i,u)){i.push({prop:u,regex:new RegExp(r[s],"g")})}}}return a}});$.templates=e})()
